package com.zcy.cn.fallback;import com.zcy.cn.service.FeignProvider;import feign.hystrix.FallbackFactory;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Component;/** * FallbackFactory * 使用该泛型接口好处是，当使用服务降级处理服务调用的时候，该种方式可以看出具体的错误 * 而普通的FallBack会把错误拦截掉 控制台也不会报出任何错误 不利于平台的维护 * <p> * 说白了FallbackFactory是FallBack的增强版 更能日志打印和返回结果集返回 * * @author 朱朝阳 * @date 2020/1/13 10:38 */@Slf4j@Componentpublic class FeignFallBack implements FallbackFactory<FeignProvider> /**FeignProvider*/{//    @Override//    public String provider() {//        return "服务暂时不可用";//    }    @Override    public FeignProvider create(Throwable throwable) {        // 平台维护  日志埋点        log.info("Feign接口：FeignProvider错误信息如下{}", throwable.toString());        return new FeignProvider() {            @Override            public String provider() {                return "服务不可用";            }        };    }}